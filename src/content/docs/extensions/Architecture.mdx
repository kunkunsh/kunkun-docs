---
title: Extension Architecture
---

<div style="height: 400px">
  <iframe
    width="100%"
    style="height: 100%;"
    src="https://www.youtube.com/embed/NBti-LzDTTI"
    title="Kunkun: Extension Architecture"
    frameborder="0"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    referrerpolicy="strict-origin-when-cross-origin"
    allowfullscreen
  ></iframe>
</div>

import { Image } from "astro:assets";
import KunkunExtArch from "../../../assets/design/kunkun-ext-arch.png";

<Image
  src={KunkunExtArch}
  alt="Kunkun Extension Architecture"
  style={{ minWidth: "100px", height: "auto" }}
/>

The communication between KK and the extension is done through the `kkrpc` protocol.

This is how `kkrpc` works in browser between iframe, main thread, web worker and server.

![](../../../assets/design/kkrpc-web.png)

Here is how it's used in Kunkun's extension system.

![](../../../assets/design/kunkun-ext-arch-2.png)
